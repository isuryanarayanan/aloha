var N=Object.defineProperty;var y=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var b=(t,s,n)=>s in t?N(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,f=(t,s)=>{for(var n in s||(s={}))I.call(s,n)&&b(t,n,s[n]);if(y)for(var n of y(s))R.call(s,n)&&b(t,n,s[n]);return t};import{m as E,r as m,o as l,c as _,a as o,F as $,b as x,d as S,t as d,e as p,w as v,f as u,g as T,v as V,p as O,h as k,i as A,j as G,V as L,k as H,l as q,n as C}from"./vendor.fff80eb4.js";const P=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(e){if(e.ep)return;e.ep=!0;const a=n(e);fetch(e.href,a)}};P();var z="/assets/aloha-logo-little-1.02ae4108.png";var h=(t,s)=>{const n=t.__vccOpts||t;for(const[r,e]of s)n[r]=e;return n};const F={name:"Home",components:{},computed:f({},E({events:"getEvents"})),data(){return{}},mounted(){this.$store.dispatch("GET_EVENTS")}},M=S('<div class="row m-0" data-v-16117a7c><div class="col-sm-12 text-center bg-dark" data-v-16117a7c><div class="brand" data-v-16117a7c><p class="text-light brand-text" data-v-16117a7c> Department of computer science asiet presents, </p></div><img class="image-banner" src="'+z+'" data-v-16117a7c></div></div>',1),j={class:"event-container text-center m-0 flex row"},B={class:"card border-0 my-3"},D={class:"card-header display-4"},U={class:"card-body"},J={class:"card-title"},X={class:"muted"},K={class:"card-body"},W=u("Register");function Q(t,s,n,r,e,a){const i=m("router-link");return l(),_($,null,[M,o("div",j,[(l(!0),_($,null,x(t.events,c=>(l(),_("div",{class:"col-md-4",key:c.id},[o("div",B,[o("h5",D,d(c.name),1),o("div",U,[o("p",J,d(c.timing),1),o("p",X,"Organizers : "+d(c.organizers),1),o("div",K,[p(i,{class:"nav-link btn btn-primary text-light",to:{name:"Register",params:{id:c.id}}},{default:v(()=>[W]),_:2},1032,["to"])])])])]))),128))])],64)}var Y=h(F,[["render",Q],["__scopeId","data-v-16117a7c"]]);const Z={name:"Events",components:{},computed:f({},E({events:"getEvents"})),data(){return{}},mounted(){this.$store.dispatch("GET_EVENTS")}},ee={class:"event-container text-center m-0 flex row"},te={class:"card border-0 my-3"},se={class:"card-header display-4"},ne={class:"card-body"},oe={class:"card-title"},ae={class:"muted"},re={class:"card-body"},ie=u("Register");function ce(t,s,n,r,e,a){const i=m("router-link");return l(),_("div",ee,[(l(!0),_($,null,x(t.events,c=>(l(),_("div",{class:"col-md-4",key:c.id},[o("div",te,[o("h5",se,d(c.name),1),o("div",ne,[o("p",oe,d(c.timing),1),o("p",ae,"Organizers : "+d(c.organizers),1),o("div",re,[p(i,{class:"nav-link btn btn-primary text-light",to:{name:"Register",params:{id:c.id}}},{default:v(()=>[ie]),_:2},1032,["to"])])])])]))),128))])}var de=h(Z,[["render",ce],["__scopeId","data-v-6b7d82d1"]]);const le={name:"Register",components:{},props:["id"],data(){return{event:"",asietId:"",message:"",message_part:""}},mounted(){this.$store.dispatch("GET_EVENT",this.id).then(t=>{this.event=JSON.parse(t.response)})},methods:{renderMessage:function(t,s){this.message=s,this.message_part=t},registerForEvent:async function(){console.log(this.asietId),await this.handleClickSignIn()},async handleClickSignIn(){try{const n=await this.$gAuth.signIn();if(!n)return null;console.log(n.getBasicProfile().getEmail()),console.log(n.getBasicProfile().getName());var t=n.getAuthResponse(),s=t.id_token;this.$store.dispatch("LOGIN",{oauth_token:s,asiet_id:this.asietId,event_id:this.event.id}).then(r=>{r.status==200?this.renderMessage("Success","Registered as "+this.asietId+"@"+n.getBasicProfile().getEmail()):this.renderMessage("Danger","Uh oh!"),this.handleClickSignOut()})}catch(n){return console.error(n),null}},async handleClickSignOut(){try{await this.$gAuth.signOut()}catch(t){console.error(t)}}}},w=t=>(O("data-v-33d093c8"),t=t(),k(),t),_e={class:"container"},pe={class:"row"},ue={class:"card bg-transparent border-0"},he={class:"card-header display-4"},me={class:"card-body"},ve={class:"card-title"},ge={class:"card-text"},fe=w(()=>o("br",null,null,-1)),$e=w(()=>o("hr",null,null,-1)),ye={class:"muted"};function be(t,s,n,r,e,a){return l(),_("div",_e,[o("div",pe,[o("div",ue,[o("h5",he,d(e.event.name),1),o("div",me,[o("h5",ve,d(e.event.timing),1),o("p",ge,d(e.event.description),1),T(o("input",{name:"id","onUpdate:modelValue":s[0]||(s[0]=i=>e.asietId=i),placeholder:"Enter your phone number"},null,512),[[V,e.asietId]]),o("a",{href:"#",onClick:s[1]||(s[1]=(...i)=>a.registerForEvent&&a.registerForEvent(...i)),class:"btn m-1 btn-primary"},"Register"),fe,u(" "+d(e.message)+" ",1),$e,o("p",ye,"Organizers : "+d(e.event.organizers),1)])])])])}var Ee=h(le,[["render",be],["__scopeId","data-v-33d093c8"]]);const xe={name:"Events",components:{},data(){return{}}},Oe=t=>(O("data-v-c9c8112e"),t=t(),k(),t),ke={class:"container"},we=Oe(()=>o("div",{class:"display-1 text-danger"},"Route Invalid",-1)),Ne=[we];function Ie(t,s,n,r,e,a){return l(),_("div",ke,Ne)}var Re=h(xe,[["render",Ie],["__scopeId","data-v-c9c8112e"]]);const Se=[{path:"/",name:"Home",component:Y},{path:"/events",name:"Events",component:de},{path:"/register/:id",name:"Register",component:Ee,props:!0},{path:"/:catchAll(.*)",name:"NotFound",component:Re}],Te=A({history:G(),routes:Se}),Ve=new L.Store({state:{events:[]},getters:{getEvents:t=>t.events},mutations:{set_events:function(t,s){t.events=s}},actions:{GET_EVENTS:function({getters:t,dispatch:s,commit:n}){let r=new XMLHttpRequest,e=new Promise((a,i)=>{r.open("GET","http://alohaasiet.pythonanywhere.com/organizer/event"),r.setRequestHeader("Content-Type","Application/json"),r.onload=()=>{a(r)},r.onerror=()=>{i(r)},r.send()});return e.then(a=>{n("set_events",JSON.parse(a.response))}),e},GET_EVENT:function({getters:t,dispatch:s,commit:n},r){let e=new XMLHttpRequest;return new Promise((i,c)=>{e.open("GET","http://alohaasiet.pythonanywhere.com/organizer/event/"+r+"/"),e.setRequestHeader("Content-Type","Application/json"),e.onload=()=>{i(e)},e.onerror=()=>{c(e)},e.send()})},LOAD_USER_GOOGLE:function(){},LOAD_USER_SERVER:function(){},LOGIN:function({getters:t,dispatch:s,commit:n},r){let e=new XMLHttpRequest;return new Promise((i,c)=>{e.open("POST","http://alohaasiet.pythonanywhere.com/oauth/google/"),e.setRequestHeader("Content-Type","Application/json"),e.onload=()=>{i(e)},e.onerror=()=>{c(e)},e.send(JSON.stringify(r))})}}});var Ae="/assets/aloha-logo-little.39361d4b.png";const Ge={name:"Navbar"},Le={class:"navbar navbar-expand-lg navbar-light px-5"},He=o("a",{class:"navbar-brand",href:"#"},[o("img",{src:Ae,width:"90",height:"90",class:"d-inline-block mx-5",alt:""})],-1),qe=o("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[o("span",{class:"navbar-toggler-icon"})],-1),Ce={class:"collapse navbar-collapse",id:"navbarText"},Pe={class:"navbar-nav mr-auto"},ze={class:"nav-item btn"},Fe=u("Home"),Me={class:"nav-item btn"},je=u("Events");function Be(t,s,n,r,e,a){const i=m("router-link");return l(),_("nav",Le,[He,qe,o("div",Ce,[o("ul",Pe,[o("li",ze,[p(i,{class:"nav-link",to:"/"},{default:v(()=>[Fe]),_:1})]),o("li",Me,[p(i,{class:"nav-link",to:"/events"},{default:v(()=>[je]),_:1})])])])])}var De=h(Ge,[["render",Be]]);const Ue={name:"App",components:{Navbar:De},data(){return{googleOauth:null}},setup(){return{Vue3GoogleOauth:H("Vue3GoogleOauth")}},computed:{logOauth:function(){this.Vue3GoogleOauth.isInit&&this.Vue3GoogleOauth.isAuthorized&&console.log(this.$store.getters.getUser)}},mounted(){}},Je={class:"app"};function Xe(t,s,n,r,e,a){const i=m("Navbar"),c=m("router-view");return l(),_("div",Je,[u(d(a.logOauth)+" ",1),p(i),p(c)])}var Ke=h(Ue,[["render",Xe]]),We="1027589441319-e1vie4dkmdpdit6q8ps3tqpqo0dafj52.apps.googleusercontent.com";const Qe={clientId:We,scope:"profile email openid",prompt:"consent",fetch_basic_profile:!1},g=q(Ke);g.use(C,Qe);g.use(Te);g.use(Ve);g.mount("#app");
